<!DOCTYPE html>
<!-- saved from url=(0051)https://discuss.d2l.ai/embed/comments?topic_id=1450 -->
<html class="d2l"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
    <link href="./embed_9a8fda2b777570c78708bdb33b34e717b408f6c9.css" media="all" rel="stylesheet" data-target="embed">
      <link href="./embedded_theme_2_c27f70945e00665fa429eba0922d9e23f16dc382.css" media="all" rel="stylesheet" data-target="embedded_theme" data-theme-id="2" data-theme-name="light">
    <link rel="preload" href="./break_string-cc617154cd957804f2f6a1f3bc68258c9cdca3d4b9a322bf777d145fed04790e.js.download" as="script" data-discourse-entrypoint="break_string">
<script defer="" src="./break_string-cc617154cd957804f2f6a1f3bc68258c9cdca3d4b9a322bf777d145fed04790e.js.download" data-discourse-entrypoint="break_string"></script>


      <title>Transposed Convolution - pytorch - D2L Discussion</title>

    <meta id="data-embedded" data-referer="https://d2l.ai/chapter_computer-vision/transposed-conv.html">
    <link rel="preload" href="./embed-application-1896c09383b1c54200925ff073e8a02aaf7c9f1e568deff3fa7907fba28c423f.js.download" as="script" data-discourse-entrypoint="embed-application">
<script defer="" src="./embed-application-1896c09383b1c54200925ff073e8a02aaf7c9f1e568deff3fa7907fba28c423f.js.download" data-discourse-entrypoint="embed-application"></script>


    
  </head>
  <body>
    
    <header class="discourse" data-embed-state="loaded">
  <span class="replies">2 replies</span>
</header>

    <article class="post" id="post-10803">
      <a title="October 21, 2021  8:15am" class="post-date" target="_blank" href="https://discuss.d2l.ai/t/transposed-convolution/1450/2">Oct '21</a>

      <div class="author">
        <a href="https://discuss.d2l.ai/u/LimingW" target="_blank"><img src="./45.png" alt=""></a>
      </div>
      <div class="cooked">
        <h3 class="username">
          <a href="https://discuss.d2l.ai/u/LimingW" target="_blank" class="">LimingW</a>
        </h3>
        <p>As stated in the text：</p>
<blockquote>
<p>As in all, if we feed  X  into a convolutional layer  f  to output  Y=f(X)  and create a transposed convolutional layer  g  with the same hyperparameters as  f  except for the number of output channels being the number of channels in  X , then  g(Y)  will have the same shape as  X . This can be illustrated in the following example.</p>
</blockquote>
<p>which is not true as in the following code:</p>
<pre data-code-wrap="python"><code class="lang-python">X = torch.rand(size=(1, 10, 16, 16))
conv = nn.Conv2d(10, 20, kernel_size=3, padding=1, stride=2)
tconv = nn.ConvTranspose2d(20, 10, kernel_size=3, padding=1, stride=2)
tconv(conv(X)).shape == X.shape
</code></pre>
<p>The <code>conv(X)</code> yields a tensor with shape [1, 20, 8, 8], while <code>tconv(conv(X))</code> yields a tensor with shape [1, 10, 15, 15]</p>
<p>At least it is not the case in the implementation of pytorch 1.7.1 &amp; 1.9.1 which I’ve tested with. Anyone please correct me if I am wrong about this.</p>

      </div>
    </article>
    <article class="post" id="post-15416">
      <a title="March  5, 2022 10:47pm" class="post-date" target="_blank" href="https://discuss.d2l.ai/t/transposed-convolution/1450/3">Mar '22</a>

      <div class="author">
        <a href="https://discuss.d2l.ai/u/Nek_Nora" target="_blank"><img src="./3720_2.png" alt=""></a>
      </div>
      <div class="cooked">
        <h3 class="username">
          <a href="https://discuss.d2l.ai/u/Nek_Nora" target="_blank" class="new-user">Nek_<wbr>​<wbr>​Nora</a>
        </h3>
        <p>It’s because of the rounding error when dividing by integers. In general we can say that (X/Y) * Y = X. However, that statement is not always true when we are working with integers. For example, let X = 5 and Y = 2. X/Y will then be 5 / 2 = 2 and (X/Y) * Y will be 2 * 2 = 4, which is not equal to the original X.</p>

      </div>
    </article>

    <footer class="clearfix">
      <a target="_blank" href="https://discuss.d2l.ai/"><img class="logo" src="./16548389a3bff33a7e7fd1d7c5aad8813e0a4f71.png"></a>
      <a class="button" target="_blank" href="https://discuss.d2l.ai/t/transposed-convolution/1450/3">Continue Discussion</a>
    </footer>
    <div class="clearfix"></div>


  

</body></html>